{% extends "base.html" %}
{% block content %}
<div class="bg-white p-4 rounded shadow mb-4">
    <h2 class="text-xl font-semibold">Simulador - {{ city.nome }}</h2>
    <form class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4"
          hx-post="/api/simulacao" hx-target="#resultado-simulacao" hx-swap="innerHTML">
        <div>
            <label class="block text-sm text-slate-500 mb-1">% aumento de vegetacao</label>
            <input name="aumento_vegetacao" type="number" step="0.1" value="5"
                   class="w-full border rounded px-3 py-2">
        </div>
        <div>
            <label class="block text-sm text-slate-500 mb-1">% reducao de area construida</label>
            <input name="reducao_area_construida" type="number" step="0.1" value="3"
                   class="w-full border rounded px-3 py-2">
        </div>
        <div class="flex items-end">
            <button type="submit" class="bg-emerald-700 text-white px-4 py-2 rounded shadow hover:bg-emerald-800">
                Simular
            </button>
        </div>
    </form>
</div>
<div id="resultado-simulacao" class="bg-white p-4 rounded shadow">
    <p class="text-slate-600">Envie os parametros para ver o resultado.</p>
</div>
{% endblock %}
{% block scripts %}
<script>
    document.body.addEventListener('htmx:afterOnLoad', function(event) {
        const detail = event.detail;
        if (detail && detail.xhr && detail.elt.id === 'resultado-simulacao') {
            // Placeholder hook for future behaviors.
        }
    });
</script>
{% endblock %}
