{% extends "base.html" %}
{% block content %}
<section class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
    <div class="bg-white p-4 rounded shadow">
        <p class="text-sm text-slate-500">Temp. média</p>
        <p class="text-2xl font-semibold">{{ overview.resumo.temp_media }} ºC</p>
    </div>
    <div class="bg-white p-4 rounded shadow">
        <p class="text-sm text-slate-500">Alertas de calor</p>
        <p class="text-2xl font-semibold">{{ overview.resumo.alertas_calor }}</p>
    </div>
    <div class="bg-white p-4 rounded shadow">
        <p class="text-sm text-slate-500">Estações monitoradas</p>
        <p class="text-2xl font-semibold">{{ overview.resumo.estacoes_monitoradas }}</p>
    </div>
</section>
<section class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <div class="bg-white p-4 rounded shadow lg:col-span-2">
        <h2 class="text-lg font-semibold mb-2">Mapa / Visão Geral</h2>
        <div id="mapa-estado" class="h-80 bg-slate-100 rounded"></div>
    </div>
    <div class="bg-white p-4 rounded shadow">
        <h2 class="text-lg font-semibold mb-2">Ranking de cidades</h2>
        <ul class="divide-y divide-slate-200">
            {% for cidade in overview.ranking %}
            <li class="py-2 flex items-center justify-between">
                <span class="font-medium">{{ cidade.nome }}</span>
                <span class="text-emerald-700 font-semibold">{{ '%.0f'|format(cidade.risco * 100) }}%</span>
            </li>
            {% endfor %}
        </ul>
    </div>
</section>
<div class="bg-white p-4 rounded shadow mt-6">
    <h2 class="text-lg font-semibold mb-2">Top 5 cidades - ECharts</h2>
    <div id="chart-cidades" class="h-72"></div>
</div>
{% endblock %}
